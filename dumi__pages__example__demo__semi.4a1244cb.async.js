(self.webpackChunkez_modal_react_github_io=self.webpackChunkez_modal_react_github_io||[]).push([[451],{31656:function(S,s,a){"use strict";a.r(s),a.d(s,{default:function(){return C}});var l=a(17061),h=a.n(l),w=a(17156),T=a.n(w),I=a(27424),m=a.n(I),y=a(20258),E=a(14957),M=a(73830),_=a(94878),g=a(49604),b=a(90396),f=a(67294),r=a(85893),p=b.Z.create(function(d){var A=f.useState("SemiModal"),O=m()(A,2),v=O[0],L=O[1];return(0,r.jsxs)(g.Z,{title:"\u57FA\u672C\u5BF9\u8BDD\u6846",visible:d.visible,onOk:function(){return d.hide(v)},afterClose:function(){return d.remove()},onCancel:function(){return d.hide(null)},closeOnEsc:!0,children:["This is the content of a basic modal.",(0,r.jsx)("br",{}),"More content...",(0,r.jsx)("br",{}),(0,r.jsx)(_.Z,{placeholder:"default",value:v,onChange:function(x){return L(x)}})]})});function C(){return(0,r.jsx)(b.Z.Provider,{children:(0,r.jsx)(M.Z,{onClick:T()(h()().mark(function d(){return h()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:b.Z.show(p).then(function(v){console.log("show-result:",v),y.FN.info(v)});case 1:case"end":return O.stop()}},d)})),children:"Semi Modal"})})}},34155:function(S){var s=S.exports={},a,l;function h(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=h}catch(r){a=h}try{typeof clearTimeout=="function"?l=clearTimeout:l=w}catch(r){l=w}})();function T(r){if(a===setTimeout)return setTimeout(r,0);if((a===h||!a)&&setTimeout)return a=setTimeout,setTimeout(r,0);try{return a(r,0)}catch(p){try{return a.call(null,r,0)}catch(C){return a.call(this,r,0)}}}function I(r){if(l===clearTimeout)return clearTimeout(r);if((l===w||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(r);try{return l(r)}catch(p){try{return l.call(null,r)}catch(C){return l.call(this,r)}}}var m=[],y=!1,E,M=-1;function _(){!y||!E||(y=!1,E.length?m=E.concat(m):M=-1,m.length&&g())}function g(){if(!y){var r=T(_);y=!0;for(var p=m.length;p;){for(E=m,m=[];++M<p;)E&&E[M].run();M=-1,p=m.length}E=null,y=!1,I(r)}}s.nextTick=function(r){var p=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)p[C-1]=arguments[C];m.push(new b(r,p)),m.length===1&&!y&&T(g)};function b(r,p){this.fun=r,this.array=p}b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function f(){}s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(r){return[]},s.binding=function(r){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(r){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},90396:function(S,s,a){"use strict";a.d(s,{Z:function(){return re},d:function(){return $}});var l=a(67294),h=a(85893),w=Object.defineProperty,T=Object.defineProperties,I=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,M=(e,o,t)=>o in e?w(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,_=(e,o)=>{for(var t in o||(o={}))y.call(o,t)&&M(e,t,o[t]);if(m)for(var t of m(o))E.call(o,t)&&M(e,t,o[t]);return e},g=(e,o)=>T(e,I(o)),b=(e,o)=>{var t={};for(var n in e)y.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&m)for(var n of m(e))o.indexOf(n)<0&&E.call(e,n)&&(t[n]=e[n]);return t};function f(e){let o="";switch(e){case 2:o="This component has been opened, if you want to update Component, proposal use EasyModal.update";break;case 0:o="Please pass in the react component.";break;case 1:o=`
        invalid Component or invalid customId!
        If you want to update Component , there are two aways:
        1. use EasyModal.create function create a EasyHOCComponents , and pass in EasyModal.update(/* EasyHOCComponents */)'
            then use EasyModal.update(Comp, willUpdateProps)
            
            example:

            const YourComp = EasyModal.create(Component)
            EasyModal.show(YourComp, props);
            EasyModal.update(YourComp, willUpdateProps);
            

        2. Please use EasyModal.show(Comp/* EasyModal.create or React Comp */, props, { id: /*here write customId*/ })
            then, use EasyModal.update(id /*pass above customId*/, willUpdateProps)

            example:

            const YourComp = EasyModal.create(Component)
            EasyModal.show(Component, props, { id: 'i am customId' });
            EasyModal.update('i am customId', willUpdateProps);

            `;break;case 5:o=`
        No dispatch method detected, did you embed your app with EasyModal.Provider?

        example:

        <EasyModal.Provider>
          <App/>
        </EasyModal.Provider>
        `;break;case 6:o=`
        invalid id , please use valid string or valid number
    
        example:
  
        EasyModal.register('i am id',...)
        EasyModal.register(12345,...)
        `;break;default:break}return o}var r=Symbol.for("easy_modal_id"),p=Symbol.for("easy_modal_hoc_type"),C=Symbol.for("react.forward_ref"),d={},A=0,O=e=>v(e)?e:`_easy_modal_${A++}_`;function v(e){return typeof e=="string"&&e!==""||typeof e=="number"&&!Number.isNaN(e)}function L(e){return e&&e.__typeof_easy_modal__===p}function D(e,o){return v(e)?e:(e[r]||(e[r]=O(o)),e[r])}function x(e){if(v(e)&&d[e])return d[e];const o=Object.values(d).find(t=>t.Component===e);return o||void 0}function z(e,o){let t="";const n=D(e);v(n)||(t=`No id found in EasyModal.${o}`);const c=x(n);c||(t+=`
No Component found in EasyModal.${o}.`);const i=!!c;return!i&&t&&console.warn(t+`
It may have been pre-removed, which is allowed`),{id:n,hoc:c,get:i}}var k=l.createContext([]),H=l.createContext(null),R=()=>{throw new Error(f(5))};function V(e,o){const t=o.payload,{id:n}=t,c=b(t,["id"]),i=[...e],u=i.findIndex(P=>P.id===n);switch(d[n]&&Object.assign(d[n],_({},c)),o.type){case"easy_modal/show":{u>-1?i[u]=_(_({},i[u]),o.payload):i.push(_(_({},i[u]),o.payload));break}case"easy_modal/update":{i[u]=_(_({},i[u]),o.payload);break}case"easy_modal/hide":{i[u]=_(_({},i[u]),o.payload);break}case"easy_modal/remove":{i.splice(u,1),delete d[n];break}}return i}function Q(e,o,t,n){return{type:"easy_modal/show",payload:{id:e,props:o,promise:t,config:n,visible:!0}}}function J(e,o){return{type:"easy_modal/update",payload:{id:e,props:o}}}function X(e){return{type:"easy_modal/hide",payload:{id:e,visible:!1}}}function q(e){return{type:"easy_modal/remove",payload:{id:e}}}function Y(e,o=!0){if(!e)throw new Error(f(0));const t=({id:n})=>{const c=$(n);return t.displayName="EasyModalHOCWrapper"+n,(0,h.jsx)(H.Provider,{value:n,children:(0,h.jsx)(e,_({},c))})};return t.__typeof_easy_modal__=p,t.__easy_modal_is_single__=o,t}function ee(e,o,t){d[e]||(d[e]={Component:o,props:t,id:e})}function oe(e,o={},t={}){var n,c,i;t.resolveOnHide=(n=t.resolveOnHide)!=null?n:!0,t.id=(c=t.id)!=null?c:"";const u=L(e)?e:Y(e,!1),P=D(u,t.id);((i=x(u))!=null?i:x(P))||ee(P,u,o);let U,B;const N=new Promise((ae,se)=>{U=ae,B=se});return R(Q(P,o,{resolve:U,reject:B},t)),N}function te(e,o={}){var t;if(!L(e)&&!v(e))return console.warn(f(1));const{id:n,get:c}=z(e,"update");if(!c)return;const i=((t=d[n])==null?void 0:t.props)||{};R(J(n,_(_({},i),o)))}function Z(e,o){var t,n,c;const{id:i,hoc:u,get:P}=z(e,"hide");P&&(R(X(i)),(t=u==null?void 0:u.config)!=null&&t.resolveOnHide&&((n=u.promise)==null||n.resolve(o)),!(u!=null&&u.Component.__easy_modal_is_single__)&&!v((c=u==null?void 0:u.config)==null?void 0:c.id)&&setTimeout(()=>K(i),300))}function K(e){const{id:o,get:t}=z(e,"remove");t&&R(q(o))}function $(e){const o=(0,l.useContext)(k),t=(0,l.useContext)(H);if(v(e)||(e=t),!v(e))throw new Error("No modal id found in EasyModal.useModal.");const n=o.find(W=>W.id===e);if(!n)throw new Error("No modalInfo found in EasyModal.useModal.");const{props:c,promise:i,config:u,visible:P}=n,j=e,U=(0,l.useCallback)(W=>{Z(j,W)},[j]),B=(0,l.useCallback)(()=>{K(j)},[j]),N=g(_(_({},c),i),{visible:P,config:u,hide:U,remove:B});return Object.freeze(N)}var F=()=>{const t=(0,l.useContext)(k).filter(n=>v(n.id)&&d[n.id]).map(n=>({id:n.id,Component:d[n.id].Component}));return(0,h.jsx)(h.Fragment,{children:t.map(n=>(0,h.jsx)(n.Component,{id:n.id},n.id))})};F.displayName="EasyModalPlaceholder";var G=({children:e})=>{const o=(0,l.useReducer)(V,[]),t=o[0],n=(0,l.useRef)();return n.current=(0,l.useMemo)(()=>function(i){o[1](i)},[o]),R=n.current,(0,h.jsxs)(k.Provider,{value:t,children:[e,(0,h.jsx)(F,{})]})};G.displayName="EasyModalProvider";var ne={ModalContext:k,Provider:G,update:te,create:function(o){return Y(o)},show:oe,hide:Z,remove:K},re=ne}}]);
