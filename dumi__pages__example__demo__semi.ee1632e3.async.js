(self.webpackChunkez_modal_react_github_io=self.webpackChunkez_modal_react_github_io||[]).push([[451],{31656:function(S,i,a){"use strict";a.r(i),a.d(i,{default:function(){return C}});var l=a(17061),v=a.n(l),b=a(17156),T=a.n(b),I=a(27424),m=a.n(I),h=a(20258),y=a(14957),M=a(73830),u=a(94878),g=a(49604),P=a(90396),f=a(67294),n=a(85893),p=P.Z.create(function(_){var A=f.useState("SemiModal"),O=m()(A,2),E=O[0],L=O[1];return(0,n.jsxs)(g.Z,{title:"\u57FA\u672C\u5BF9\u8BDD\u6846",visible:_.visible,onOk:function(){return _.hide(E)},afterClose:function(){return _.remove()},onCancel:function(){return _.hide(null)},closeOnEsc:!0,children:["This is the content of a basic modal.",(0,n.jsx)("br",{}),"More content...",(0,n.jsx)("br",{}),(0,n.jsx)(u.Z,{placeholder:"default",value:E,onChange:function(x){return L(x)}})]})});function C(){return(0,n.jsx)(P.Z.Provider,{children:(0,n.jsx)(M.Z,{onClick:T()(v()().mark(function _(){return v()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:P.Z.show(p).then(function(E){console.log("show-result:",E),h.FN.info(E)});case 1:case"end":return O.stop()}},_)})),children:"Semi Modal"})})}},34155:function(S){var i=S.exports={},a,l;function v(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=v}catch(n){a=v}try{typeof clearTimeout=="function"?l=clearTimeout:l=b}catch(n){l=b}})();function T(n){if(a===setTimeout)return setTimeout(n,0);if((a===v||!a)&&setTimeout)return a=setTimeout,setTimeout(n,0);try{return a(n,0)}catch(p){try{return a.call(null,n,0)}catch(C){return a.call(this,n,0)}}}function I(n){if(l===clearTimeout)return clearTimeout(n);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(p){try{return l.call(null,n)}catch(C){return l.call(this,n)}}}var m=[],h=!1,y,M=-1;function u(){!h||!y||(h=!1,y.length?m=y.concat(m):M=-1,m.length&&g())}function g(){if(!h){var n=T(u);h=!0;for(var p=m.length;p;){for(y=m,m=[];++M<p;)y&&y[M].run();M=-1,p=m.length}y=null,h=!1,I(n)}}i.nextTick=function(n){var p=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)p[C-1]=arguments[C];m.push(new P(n,p)),m.length===1&&!h&&T(g)};function P(n,p){this.fun=n,this.array=p}P.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function f(){}i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},90396:function(S,i,a){"use strict";a.d(i,{Z:function(){return ne},d:function(){return $}});var l=a(67294),v=a(85893),b=Object.defineProperty,T=Object.defineProperties,I=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,M=(e,o,t)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,u=(e,o)=>{for(var t in o||(o={}))h.call(o,t)&&M(e,t,o[t]);if(m)for(var t of m(o))y.call(o,t)&&M(e,t,o[t]);return e},g=(e,o)=>T(e,I(o)),P=(e,o)=>{var t={};for(var r in e)h.call(e,r)&&o.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&m)for(var r of m(e))o.indexOf(r)<0&&y.call(e,r)&&(t[r]=e[r]);return t};function f(e){let o="";switch(e){case 2:o="This component has been opened, if you want to update Component, proposal use EasyModal.update";break;case 0:o="Please pass in the react component.";break;case 1:o=`
        invalid Component or invalid customId!
        If you want to update Component , there are two aways:
        1. use EasyModal.create function create a EasyHOCComponents , and pass in EasyModal.update(/* EasyHOCComponents */)'
            then use EasyModal.update(Comp, willUpdateProps)
            
            example:

            const YourComp = EasyModal.create(Component)
            EasyModal.show(YourComp,props);
            EasyModal.update(YourComp,willUpdateProps);
            

        2. Please use EasyModal.show(Comp/* EasyModal.create or React Comp */, props, { id: /*here write customId*/ })
            then, use EasyModal.update(id /*pass above customId*/, willUpdateProps)

            example:

            const YourComp = EasyModal.show(Component,props,{id: 'i am customId'});
            EasyModal.update('i am customId',willUpdateProps);

            `;break;case 5:o=`
        No dispatch method detected, did you embed your app with EasyModal.Provider?

        example:

        <EasyModal.Provider>
          <App/>
        </EasyModal.Provider>
        `;break;case 6:o=`
        invalid id , please use valid string or valid number
    
        example:
  
        EasyModal.register('i am id',...)
        EasyModal.register(12345,...)
        `;break;default:break}return o}var n=Symbol.for("easy_modal_id"),p=Symbol.for("easy_modal_hoc_type"),C=Symbol.for("react.forward_ref"),_={},A=0,O=e=>E(e)?e:`_easy_modal_${A++}_`;function E(e){return typeof e=="string"&&e!==""||typeof e=="number"}function L(e){return e&&e.__typeof_easy_modal__===p}function D(e,o){return E(e)?e:(e[n]||(e[n]=O(o)),e[n])}function x(e){if(E(e)&&_[e])return _[e];const o=Object.values(_).find(t=>t.Component===e);return o||void 0}function z(e,o){let t="";const r=D(e);r||(t=`No id found in EasyModal.${o}`);const d=x(r);d||(t+=`
No Component found in EasyModal.${o}.`);const s=!!(r&&d);return!s&&t&&console.warn(t+`
It may have been pre-removed, which is allowed`),{id:r,hoc:d,get:s}}var k=l.createContext([]),H=l.createContext(null),R=()=>{throw new Error(f(5))};function V(e,o){const t=o.payload,{id:r}=t,d=P(t,["id"]),s=[...e],c=s.findIndex(w=>w.id===r);switch(_[r]&&Object.assign(_[r],u({},d)),o.type){case"easy_modal/show":{c>-1?s[c]=u(u({},s[c]),o.payload):s.push(u(u({},s[c]),o.payload));break}case"easy_modal/update":{s[c]=u(u({},s[c]),o.payload);break}case"easy_modal/hide":{s[c]=u(u({},s[c]),o.payload);break}case"easy_modal/remove":{s.splice(c,1),delete _[r];break}}return s}function Q(e,o,t,r){return{type:"easy_modal/show",payload:{id:e,props:o,promise:t,config:r,visible:!0}}}function J(e,o){return{type:"easy_modal/update",payload:{id:e,props:o}}}function X(e){return{type:"easy_modal/hide",payload:{id:e,visible:!1}}}function q(e){return{type:"easy_modal/remove",payload:{id:e}}}function Y(e,o=!0){if(!e)throw new Error(f(0));const t=({id:r})=>{const d=$(r);return t.displayName="EasyModalHOCWrapper"+r,(0,v.jsx)(H.Provider,{value:r,children:(0,v.jsx)(e,u({},d))})};return t.__typeof_easy_modal__=p,t.__easy_modal_is_single__=o,t}function ee(e,o,t){_[e]||(_[e]={Component:o,props:t,id:e})}function oe(e,o={},t={}){var r,d,s;t.resolveOnHide=(r=t.resolveOnHide)!=null?r:!0,t.id=(d=t.id)!=null?d:"";const c=L(e)?e:Y(e,!1),w=D(c,t.id);((s=x(c))!=null?s:x(w))||ee(w,c,o);let U,B;const N=new Promise((ae,se)=>{U=ae,B=se});return R(Q(w,o,{resolve:U,reject:B},t)),N}function te(e,o={}){var t;if(!L(e)&&!E(e))return console.warn(f(1));const{id:r,get:d}=z(e,"update");if(!d)return;const s=((t=_[r])==null?void 0:t.props)||{};R(J(r,u(u({},s),o)))}function Z(e,o){var t,r;const{id:d,hoc:s,get:c}=z(e,"hide");c&&(R(X(d)),(t=s==null?void 0:s.config)!=null&&t.resolveOnHide&&((r=s.promise)==null||r.resolve(o)),s!=null&&s.Component.__easy_modal_is_single__||setTimeout(()=>K(d),300))}function K(e){const{id:o,get:t}=z(e,"remove");t&&R(q(o))}function $(e){const o=(0,l.useContext)(k),t=(0,l.useContext)(H);if(e||(e=t),!e)throw new Error("No modal id found in EasyModal.useModal.");const r=o.find(W=>W.id===e);if(!r)throw new Error("No modalInfo found in EasyModal.useModal.");const{props:d,promise:s,config:c,visible:w}=r,j=e,U=(0,l.useCallback)(W=>{Z(j,W)},[j]),B=(0,l.useCallback)(()=>{K(j)},[j]),N=g(u(u({},d),s),{visible:w,config:c,hide:U,remove:B});return Object.freeze(N)}var F=()=>{const t=(0,l.useContext)(k).filter(r=>r.id&&_[r.id]).map(r=>({id:r.id,Component:_[r.id].Component}));return(0,v.jsx)(v.Fragment,{children:t.map(r=>(0,v.jsx)(r.Component,{id:r.id},r.id))})};F.displayName="EasyModalPlaceholder";var G=({children:e})=>{const o=(0,l.useReducer)(V,[]),t=o[0],r=(0,l.useRef)();return r.current=(0,l.useMemo)(()=>function(s){o[1](s)},[o]),R=r.current,(0,v.jsxs)(k.Provider,{value:t,children:[e,(0,v.jsx)(F,{})]})};G.displayName="EasyModalProvider";var re={ModalContext:k,Provider:G,update:te,create:function(o){return Y(o)},show:oe,hide:Z,remove:K},ne=re}}]);
